---
layout: default
---

<div class="stats-grid">
    <div class="stat-card" id="today">
        <h2>Today's Progress</h2>
        <div id="todayStats"></div>
    </div>
    
    <div class="stat-card">
        <h2>Weekly Stats</h2>
        <div id="weekStats"></div>
    </div>
    
    <div class="stat-card">
        <h2>Monthly Stats</h2>
        <div id="monthStats"></div>
    </div>
    
    <div class="stat-card">
        <h2>Yearly Stats</h2>
        <div id="yearStats"></div>
    </div>
</div>

<div class="stat-card">
    <h2>Recent Records</h2>
    <ul class="record-list" id="records"></ul>
</div>

<script>
async function loadStepData() {
    try {
        const response = await fetch('data/steps.json');
        const data = await response.json();
        displayData(data);
    } catch (error) {
        console.error('Error loading step data:', error);
    }
}

function displayData(data) {
    // Update last updated time
    document.getElementById('lastUpdated').textContent = new Date(data.lastUpdated).toLocaleString();
    
    // Today's stats
    const today = data.statistics.today;
    document.getElementById('todayStats').innerHTML = `
        <p>Steps: ${today.steps.toLocaleString()}</p>
        <p>Distance: ${today.distance} km</p>
        <div class="progress-bar">
            <div class="progress-bar-fill" style="width: ${(today.steps / today.goal) * 100}%"></div>
        </div>
        <p>Goal: ${today.goal.toLocaleString()} steps</p>
    `;
    
    // Weekly stats
    const week = data.statistics.week;
    document.getElementById('weekStats').innerHTML = `
        <p>Total Steps: ${week.total_steps.toLocaleString()}</p>
        <p>Average Steps: ${week.average_steps.toLocaleString()}</p>
        <p>Total Distance: ${week.total_distance} km</p>
        <p>Best Day: ${week.best_day.steps.toLocaleString()} steps (${week.best_day.date})</p>
    `;
    
    // Monthly stats
    const month = data.statistics.month;
    document.getElementById('monthStats').innerHTML = `
        <p>Total Steps: ${month.total_steps.toLocaleString()}</p>
        <p>Average Steps: ${month.average_steps.toLocaleString()}</p>
        <p>Total Distance: ${month.total_distance} km</p>
        <p>Days Logged: ${month.days_logged}</p>
    `;
    
    // Yearly stats
    const year = data.statistics.year;
    document.getElementById('yearStats').innerHTML = `
        <p>Total Steps: ${year.total_steps.toLocaleString()}</p>
        <p>Average Steps: ${year.average_steps.toLocaleString()}</p>
        <p>Total Distance: ${year.total_distance} km</p>
        <p>Days Logged: ${year.days_logged}</p>
    `;
    
    // Records
    const recordsList = document.getElementById('records');
    recordsList.innerHTML = data.statistics.records
        .map(record => `
            <li>
                Date: ${record.date}<br>
                Steps: ${record.steps.toLocaleString()}<br>
                Distance: ${record.distance} km
            </li>
        `)
        .join('');
}

document.addEventListener('DOMContentLoaded', loadStepData);
</script>